async function loadGallery() {
    const container = document.getElementById('image-container');
    container.innerHTML = '<div class="loading">Loading images...</div>';

    try {
        const response = await fetch('get_images.php');
        const result = await response.json();

        if (result.status !== 'success') {
            throw new Error(result.message || 'Server error');
        }

        container.innerHTML = '';
        result.data.forEach(file => {
            const card = document.createElement('div');
            card.className = 'image-card';
            card.innerHTML = `
                <div class="meta-data">
                    <div class="satellite-title">${file.filename}</div>
                    <p>
                        <strong>Date:</strong> ${file.date}<br>
                        <strong>Time:</strong> ${file.time}
                    </p>
                </div>
                <img src="NM_photos/${file.filename}" alt="Satellite image">
            `;
            container.appendChild(card);
        });

    } catch (error) {
        container.innerHTML = `
            <div class="error">
                Error: ${error.message}<br>
                Ensure:<br>
                1. PHP is enabled on your server<br>
                2. NM_photos folder exists<br>
                3. File permissions are correct
            </div>
        `;
    }
}
